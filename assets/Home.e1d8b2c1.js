import{d as p,k as h,u as f,o as s,c as r,a as t,l as S,F as w,m as k,n as v,b as m,t as u,r as g,p as $,w as R,q as x,f as y}from"./vendor.8fe0167a.js";import{_}from"./index.a1d25ba1.js";import{g as E}from"./api.83dc81c1.js";const V=p({setup(){const e=f();return{searchValue:h(()=>e.state.searchValue),updateSearchValue:a=>e.commit("updateSearchValue",a.target.value)}}}),N={class:"flex items-center bg-white dark:bg-dark-blue shadow w-full md:w-1/3 rounded-md overflow-hidden"},j=t("div",{class:"px-4"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 stroke-dark-gray",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),B=["value"];function F(e,n,c,a,l,d){return s(),r("label",N,[j,t("input",{type:"text",id:"search",class:"p-3 flex-1 bg-white dark:bg-dark-blue",placeholder:"Search for a country",value:e.searchValue,onInput:n[0]||(n[0]=(...o)=>e.updateSearchValue&&e.updateSearchValue(...o))},null,40,B)])}var U=_(V,[["render",F]]);const I=p({setup(){const e=f();return{isOpen:S(!1),regions:{EU:"European Union",EFTA:"European Free Trade Association",CARICOM:"Caribbean Community",PA:"Pacific Alliance",AU:"African Union",USAN:"Union of South American Nations",EEU:"Eurasian Economic Union",AL:"Arab League",ASEAN:"Association of Southeast Asian Nations",CAIS:"Central American Integration System",CEFTA:"Central European Free Trade Agreement",NAFTA:"North American Free Trade Agreement",SAARC:"South Asian Association for Regional Cooperation"},currentRegion:h(()=>e.state.currentRegion),setCurrentRegion:a=>e.dispatch("setCurrentRegion",a)}}}),L=t("div",{class:"shadow p-3 bg-white dark:bg-dark-blue rounded-md flex items-center justify-between cursor-pointer"},[t("p",{class:"text-sm font-semibold select-none"},"Filter by Rigion"),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})])],-1),O={key:0,class:"shadow w-full bg-white dark:bg-dark-blue rounded-md overflow-hidden absolute top-[110%] left-0 z-20"},T=["onClick"],D={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},M=t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1),P=[M];function z(e,n,c,a,l,d){return s(),r("div",{class:"relative w-full md:w-96",onClick:n[0]||(n[0]=o=>e.isOpen=!e.isOpen)},[L,e.isOpen?(s(),r("ul",O,[(s(!0),r(w,null,k(Object.keys(e.regions),o=>(s(),r("li",{class:"px-3 py-2 cursor-pointer hover:bg-very-light-gray transition-all flex items-center",key:o,onClick:i=>e.setCurrentRegion(o)},[e.currentRegion===o?(s(),r("svg",D,P)):v("",!0),m(" "+u(e.regions[o]),1)],8,T))),128))])):v("",!0)])}var q=_(I,[["render",z]]);const H=p({props:["country"]}),Q={class:"shadow bg-white dark:bg-dark-blue rounded-md overflow-hidden"},G=["src","alt"],J={class:"px-4 py-6"},K={class:"font-bold mb-2"},W={class:"text-sm space-y-1"},X=t("span",{class:"font-semibold"},"Population: ",-1),Y=t("span",{class:"font-semibold"},"Region: ",-1),Z=t("span",{class:"font-semibold"},"Capital: ",-1);function ee(e,n,c,a,l,d){const o=g("router-link");return s(),$(o,{to:{name:"Country",params:{code:e.country.alpha2Code}}},{default:R(()=>[t("div",Q,[t("img",{src:e.country.flags.svg,alt:e.country.name,class:"aspect-video"},null,8,G),t("div",J,[t("h3",K,u(e.country.name),1),t("ul",W,[t("li",null,[X,m(u(e.country.population),1)]),t("li",null,[Y,m(u(e.country.region),1)]),t("li",null,[Z,m(u(e.country.capital),1)])])])])]),_:1},8,["to"])}var te=_(H,[["render",ee]]);const oe=p({components:{Input:U,Dropdown:q,Card:te},setup(){const e=f(),n=h(()=>e.state.currentRegion),c=h(()=>e.getters.filteredCountries),a=i=>e.dispatch("setCountries",i),{isLoading:l,isError:d,refetch:o}=x(["countriesByRegion",n.value],()=>E(n.value),{onSuccess(i){a(i)}});return e.watch(i=>i.currentRegion,()=>{o.value()}),{isLoading:l,isError:d,countries:c}}}),se={class:"flex flex-col md:flex-row space-y-4 md:space-y-0 items-center justify-between"},ne={key:0,class:"h-[50vh] grid items-center"},re=t("p",{class:"text-3xl font-bold text-very-dark-blue"},"Error",-1),ae=[re],ie={key:1,class:"h-[50vh] grid items-center"},ce=t("p",{class:"text-3xl font-bold text-very-dark-blue text-center"}," Loading ... ",-1),le=[ce],de={key:2,class:"mt-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-10"};function ue(e,n,c,a,l,d){const o=g("Input"),i=g("Dropdown"),b=g("Card");return s(),r(w,null,[t("div",se,[y(o),y(i)]),e.isError?(s(),r("div",ne,ae)):v("",!0),e.isLoading?(s(),r("div",ie,le)):(s(),r("div",de,[(s(!0),r(w,null,k(e.countries,(C,A)=>(s(),$(b,{key:A,country:C},null,8,["country"]))),128))]))],64)}var ge=_(oe,[["render",ue]]);export{ge as default};
